# ==================================================
# Czech MedAI - Production Environment Configuration
# ==================================================
# SECURITY: Never commit this file with real values!
# Copy to .env.production and fill in production values

# ==================================================
# Environment
# ==================================================
ENVIRONMENT=production
LOG_LEVEL=INFO
DEBUG_MCP=false

# ==================================================
# API Server Configuration
# ==================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4  # Number of uvicorn workers

# CORS - RESTRICT TO YOUR FRONTEND DOMAINS
CORS_ORIGINS=https://your-frontend-domain.com,https://app.your-domain.com
CORS_ALLOW_CREDENTIALS=true

# ==================================================
# Database (Supabase or Self-Hosted PostgreSQL)
# ==================================================
DATABASE_URL=postgresql://user:password@host:5432/czech_medai
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your_production_supabase_key

# Connection pool settings
DB_POOL_MIN_SIZE=10
DB_POOL_MAX_SIZE=50
DB_POOL_TIMEOUT=30

# ==================================================
# Redis Cache
# ==================================================
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=your_redis_password  # If using Redis Cloud
CACHE_TTL=3600  # 1 hour in seconds
CACHE_MAX_SIZE=1000  # Max cached queries

# ==================================================
# LangSmith Tracing (Production)
# ==================================================
LANGSMITH_API_KEY=lsv2_pt_your_production_key
LANGSMITH_PROJECT=czech-medai-production
LANGSMITH_ENDPOINT=https://api.smith.langchain.com
LANGSMITH_TRACING=true

# ==================================================
# MCP Servers - Production URLs
# ==================================================
SUKL_MCP_URL=https://SUKL-mcp.fastmcp.app/mcp
SUKL_MCP_TRANSPORT=http
SUKL_MCP_TIMEOUT=30

BIOMCP_TRANSPORT=http
BIOMCP_URL=https://your-biomcp-server.com
BIOMCP_TIMEOUT=60

# ==================================================
# OpenAI API (for embeddings)
# ==================================================
OPENAI_API_KEY=sk-your_production_openai_key
OPENAI_ORG_ID=org-your_org_id  # Optional

# ==================================================
# Security
# ==================================================
# Rate limiting
RATE_LIMIT_PER_MINUTE=10
RATE_LIMIT_BURST=20

# Request validation
MAX_QUERY_LENGTH=1000
MAX_REQUEST_SIZE=10485760  # 10MB

# JWT secret for future authentication
JWT_SECRET=your_random_256_bit_secret_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600  # 1 hour

# ==================================================
# Monitoring (Optional)
# ==================================================
# Sentry error tracking
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1  # 10% of transactions

# ==================================================
# Performance Tuning
# ==================================================
MAX_CONCURRENT_MCP_CALLS=10
MCP_REQUEST_TIMEOUT=30
GRAPH_EXECUTION_TIMEOUT=30

# Worker configuration
UVICORN_WORKERS=4
UVICORN_WORKER_CLASS=uvicorn.workers.UvicornWorker
UVICORN_BACKLOG=2048

# ==================================================
# Feature Flags
# ==================================================
ENABLE_DRUG_AGENT=true
ENABLE_PUBMED_AGENT=true
ENABLE_GUIDELINES_AGENT=true
ENABLE_SUPERVISOR=true
ENABLE_SYNTHESIZER=true
ENABLE_CITATIONS=true

# ==================================================
# Logging
# ==================================================
LOG_FORMAT=json  # json or text
LOG_FILE=/app/logs/czech-medai.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days
LOG_MAX_SIZE=100 MB
